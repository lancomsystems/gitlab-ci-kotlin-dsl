# Child Pipelines

To generate `.gitlab-ci.yml` file using DSL, you can use Gitlab's [Child Pipeline](https://docs.gitlab.com/ee/ci/yaml/#trigger-child-pipeline-with-generated-configuration-file) feature.

You have to create `.gitlab-ci.yml` with two jobs:
1. Generate yaml with job definitions
2. Run new child pipeline based on yaml definitions generated in previous job

DSL is defined in [gitlab-ci.gradle.kts](gitlab-ci.gradle.kts) file.
Those two files has to be added directly to your project.

Main advantages of this approach are
- pipeline DSL is in the project it is used in
- pipeline definition is automatically generated by GitlabCi

Disadvantages of this approach:
- child pipelines has some restrictions. More details can be found in GitlabCi [documentation](https://docs.gitlab.com/ee/ci/parent_child_pipelines.html#limitations)
- child pipelines are not very visible in Gitlab UI
